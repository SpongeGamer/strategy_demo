<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <title>RTS Demo</title>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        
        <!-- –ë–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏ -->
        <script src="js/core/loader.js" type="module"></script>
        <script src="js/core/mouse.js" type="module"></script>
        <script src="js/core/maps.js" type="module"></script>
        <script src="js/core/game.js" type="module"></script>
        
        <!-- –ò–≥—Ä–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ -->
        <script src="js/entities/buildings.js" type="module"></script>
        <script src="js/entities/units.js" type="module"></script>
        <script src="js/entities/vehicles.js" type="module"></script>
        <script src="js/entities/aircraft.js" type="module"></script>
        <script src="js/entities/resources.js" type="module"></script>
        
        <!-- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ -->
        <script src="js/utils/pathfinding-browser.min.js"></script>
        <script src="js/utils/astar.js" type="module"></script>
        <script src="js/utils/fog.js" type="module"></script>
        <script src="js/ui/sidebar.js" type="module"></script>
        <script src="js/ui/interface.js" type="module"></script>
        
        <!-- –ò–≥—Ä–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã -->
        <script src="js/modes/singleplayer.js" type="module"></script>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π –º–æ–¥—É–ª—å -->
        <script type="module">
            import { game } from './js/core/game.js';
            import { singleplayer } from './js/modes/singleplayer.js';
            
            window.addEventListener('load', () => {
                game.init();
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫
                document.getElementById('singleplayer').addEventListener('click', () => {
                    singleplayer.start();
                });
            });
        </script>

        <link rel="stylesheet" href="css/styles.css" type="text/css" media="screen" charset="utf-8">
    </head>
    <body>
        <div id="gamecontainer">
            <div id="gamestartscreen" class="gamelayer">
                <h1>RTS Demo</h1>
                <button id="singleplayer">Campaign</button>
                <button id="multiplayer">Multiplayer</button>
            </div>
            
            <div id="gameinterfacescreen" class="gamelayer">
                <div id="gamecanvasarea">
                    <canvas id="gamebackgroundcanvas"></canvas>
                    <canvas id="gameforegroundcanvas"></canvas>
                </div>
                
                <div id="gameinterface">
                    <div id="resources">
                        <div class="resource">
                            <div class="resource-icon trees"></div>
                            <span>–î–µ—Ä–µ–≤—å—è: <span id="trees-count">0</span></span>
                        </div>
                        <div class="resource">
                            <div class="resource-icon metal"></div>
                            <span>–ú–µ—Ç–∞–ª–ª: <span id="metal-count">0</span></span>
                        </div>
                        <div class="resource">
                            <div class="resource-icon gold"></div>
                            <span>–ó–æ–ª–æ—Ç–æ: <span id="gold-count">0</span></span>
                        </div>
                    </div>

                    <div id="context-menu">
                        <div class="context-menu-group">
                            <div class="context-menu-item" data-unit="harvester">
                                <div class="icon">ü§ñ</div>
                                <div class="info">
                                    <div class="name">Harvester Bot</div>
                                    <div class="description">–°–æ–±–∏—Ä–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã</div>
                                </div>
                                <div class="cost">M:30 G:10</div>
                            </div>
                        </div>
                        <div class="context-menu-group buildings">
                            <div class="context-menu-item" data-building="powerplant">
                                <div class="icon">‚ö°</div>
                                <div class="info">
                                    <div class="name">Power Plant</div>
                                    <div class="description">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —ç–Ω–µ—Ä–≥–∏—é</div>
                                </div>
                                <div class="cost">M:50 G:20</div>
                            </div>
                            <div class="context-menu-item" data-building="barracks">
                                <div class="icon">üèõÔ∏è</div>
                                <div class="info">
                                    <div class="name">Barracks</div>
                                    <div class="description">–¢—Ä–µ–Ω–∏—Ä—É–µ—Ç –ø–µ—Ö–æ—Ç—É</div>
                                </div>
                                <div class="cost">M:100 G:30</div>
                            </div>
                            <div class="context-menu-item" data-building="factory">
                                <div class="icon">üè≠</div>
                                <div class="info">
                                    <div class="name">Factory</div>
                                    <div class="description">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ç–µ—Ö–Ω–∏–∫—É</div>
                                </div>
                                <div class="cost">M:150 G:50</div>
                            </div>
                        </div>
                    </div>

                    <div id="minimap">
                        <canvas id="minimapcanvas"></canvas>
                    </div>

                    <div id="command-panel">
                        <div class="command-group">
                            <button class="command-button buildings" title="–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ"></button>
                            <button class="command-button defenses" title="–û–±–æ—Ä–æ–Ω–∞"></button>
                        </div>
                        <div class="command-group">
                            <button class="command-button infantry" title="–ü–µ—Ö–æ—Ç–∞"></button>
                            <button class="command-button vehicles" title="–¢–µ—Ö–Ω–∏–∫–∞"></button>
                            <button class="command-button aircraft" title="–ê–≤–∏–∞—Ü–∏—è"></button>
                        </div>
                    </div>

                    <div id="sidebarbuttons" style="display: none;">
                        <input type="button" id="starportbutton" title="Starport">
                        <input type="button" id="turretbutton" title="Turret">
                        <input type="button" id="placeholder1" disabled>
                        <input type="button" id="scouttankbutton" title="Scout Tank">
                        <input type="button" id="heavytankbutton" title="Heavy Tank">
                        <input type="button" id="harvesterbutton" title="Harvester">
                    </div>
                </div>
            </div>

            <div id="loadingscreen" class="gamelayer">
                <div id="loadingmessage"></div>
            </div>
        </div>
    </body>
</html>